<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Weather</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/midArea.css">
    <link rel="stylesheet" href="/css/footer.css">
</head>
<body class="">
    <div class="main">
        <div class="secondary">
            <div class="header">
                <div class="title">
                    <span class="quick">Quick</span><span class="weather">Weather</span>
                </div>
                <div class="searchbar">
                    <form id="searchForm" action="/search" method="get">
                        <input type="text" name="addr" class="bar" placeholder="search for a location here...">
                    </form>
                </div>
            </div>



            <div class="mid">
                <div class="tempInfo">
                    <div class="infoCard">
                        <div class="info">
                            <div class="loc">
                                <span class="locText">Lat:<%=lat%>° &nbsp;&nbsp;Lon:<%=lon%>°</span>
                            </div>

                            <div class="temp">
                                <span class="tempText"><%= temp %>°</span>
                            </div>

                            <div class="secDesc">
                                <span class="descText"><%= desc %></span>
                            </div>
                        </div>
                        <div class="infoIcon">
                            <div style="width: 100%; height: 100%;" class=""></div>
                        </div>
                    </div>
                </div>


                <div class="descForecast">
                    <div class="descCard"><%= expected %></div>
                </div>


                <div class="hourlyForecast">
                    <div class="hourlyCard">
                        <div class="hour1">
                            <span class="hourTemp"><%= hourForecast[0].temp %>°</span>
                            <div class=""></div>
                            <span class="time"> <%= hourForecast[0].Time %> </span>
                        </div>
                        <div class="hour2">
                            <span class="hourTemp"><%= hourForecast[1].temp %>°</span>
                            <div class=""></div>
                            <span class="time"> <%= hourForecast[1].Time %> </span>
                        </div>
                        <div class="hour3">
                            <span class="hourTemp"><%= hourForecast[2].temp %>°</span>
                            <div class=""></div>
                            <span class="time"> <%= hourForecast[2].Time %> </span>
                        </div>
                        <div class="hour4">
                            <span class="hourTemp"><%= hourForecast[3].temp %>°</span>
                            <div class=""></div>
                            <span class="time"> <%= hourForecast[3].Time %> </span>
                        </div>
                        <div class="hour5">
                            <span class="hourTemp"><%= hourForecast[4].temp %>°</span>
                            <div class=""></div>
                            <span class="time"> <%= hourForecast[4].Time %> </span>
                        </div>
                    </div>
                </div>


                <div class="dailyForecast">
                    <div class="dailyCard">
                        <div class="day1">
                            <span class="dayTemp"><%= DayForecast[0].max %>°\<%= DayForecast[0].min %>°</span>
                            <div class=""></div>
                            <span class="Day"> <%= DayForecast[0].Day %> </span>
                        </div>
                        <div class="day2">
                            <span class="dayTemp"><%= DayForecast[1].max %>°\<%= DayForecast[1].min %>°</span>
                            <div class=""></div>
                            <span class="Day"> <%= DayForecast[1].Day %> </span>
                        </div>
                        <div class="day3">
                            <span class="dayTemp"><%= DayForecast[2].max %>°\<%= DayForecast[2].min %>°</span>
                            <div class=""></div>
                            <span class="Day"> <%= DayForecast[2].Day %> </span>
                        </div>
                    </div>
                </div>


                <div class="dayDesc"><%= desc %></div>
            </div>



            <div class="footer">
                <div class="locData">
                    <div class="globe">
                    </div>
                    <div class="cityCon"><%= city %>,<%= con %></div>
                </div>
                <div class="aqi">
                    <div class="mainIndex">
                        <div class="aqiIndCont">
                            <div class="aqiValue"><%= aqiObj.aqi %></div>
                            <div class="aqiDesc"></div>
                        </div>
                    </div>
                    <div class="pm25 subIndex">
                        <div class="subIndexCont">
                            <div class="subIndexValue">pm2.5: <%= aqiObj.subIndices.pm25 %></div>
                            <div class="subIndexDesc"></div>
                        </div>
                    </div>
                    <div class="pm10 subIndex">
                        <div class="subIndexCont">
                            <div class="subIndexValue">pm10: <%= aqiObj.subIndices.pm10 %></div>
                            <div class="subIndexDesc"></div>
                        </div>
                    </div>
                    <div class="co subIndex">
                        <div class="subIndexCont">
                            <div class="subIndexValue">co: <%= aqiObj.subIndices.co %></div>
                            <div class="subIndexDesc"></div>
                        </div>
                    </div>
                    <div class="o3 subIndex">
                        <div class="subIndexCont">
                            <div class="subIndexValue">O3: <%= aqiObj.subIndices.o3 %></div>
                            <div class="subIndexDesc"></div>
                        </div>
                    </div>
                    <div class="no2 subIndex">
                        <div class="subIndexCont">
                            <div class="subIndexValue">NO2: <%= aqiObj.subIndices.no2 %></div>
                            <div class="subIndexDesc"></div>
                        </div>
                    </div>
                    <div class="so2 subIndex">
                        <div class="subIndexCont">
                            <div class="subIndexValue">SO2: <%= aqiObj.subIndices.so2 %></div>
                            <div class="subIndexDesc"></div>
                        </div>
                    </div>
                </div>
                <div class="wind">
                    <div class="compass">
                        <div class="compSquare">
                            <svg
                                viewBox="0 0 300 300"
                                xmlns="http://www.w3.org/2000/svg"
                                class="wind-compass"
                                >

                                <!-- OUTER CIRCLE -->
                                <circle
                                    cx="150"
                                    cy="150"
                                    r="135"
                                    fill="none"
                                    stroke="white"
                                    stroke-width="2"
                                    opacity="0.9"
                                />

                                <!-- TICKS -->
                                <g transform="translate(150 150)" stroke="white" opacity="0.9">

                                    <!-- Minor ticks (every 5°) -->
                                    <g stroke-width="2">
                                    <defs>
                                        <line id="minorTick" x1="0" y1="-135" x2="0" y2="-125" />
                                    </defs>

                                    <use href="#minorTick" transform="rotate(5)" />
                                    <use href="#minorTick" transform="rotate(10)" />
                                    <use href="#minorTick" transform="rotate(15)" />
                                    <use href="#minorTick" transform="rotate(20)" />
                                    <use href="#minorTick" transform="rotate(25)" />
                                    <use href="#minorTick" transform="rotate(30)" />
                                    <use href="#minorTick" transform="rotate(35)" />
                                    <use href="#minorTick" transform="rotate(40)" />
                                    <use href="#minorTick" transform="rotate(45)" />
                                    <use href="#minorTick" transform="rotate(50)" />
                                    <use href="#minorTick" transform="rotate(55)" />
                                    <use href="#minorTick" transform="rotate(60)" />
                                    <use href="#minorTick" transform="rotate(65)" />
                                    <use href="#minorTick" transform="rotate(70)" />
                                    <use href="#minorTick" transform="rotate(75)" />
                                    <use href="#minorTick" transform="rotate(80)" />
                                    <use href="#minorTick" transform="rotate(85)" />

                                    <use href="#minorTick" transform="rotate(95)" />
                                    <use href="#minorTick" transform="rotate(100)" />
                                    <use href="#minorTick" transform="rotate(105)" />
                                    <use href="#minorTick" transform="rotate(110)" />
                                    <use href="#minorTick" transform="rotate(115)" />
                                    <use href="#minorTick" transform="rotate(120)" />
                                    <use href="#minorTick" transform="rotate(125)" />
                                    <use href="#minorTick" transform="rotate(130)" />
                                    <use href="#minorTick" transform="rotate(135)" />
                                    <use href="#minorTick" transform="rotate(140)" />
                                    <use href="#minorTick" transform="rotate(145)" />
                                    <use href="#minorTick" transform="rotate(150)" />
                                    <use href="#minorTick" transform="rotate(155)" />
                                    <use href="#minorTick" transform="rotate(160)" />
                                    <use href="#minorTick" transform="rotate(165)" />
                                    <use href="#minorTick" transform="rotate(170)" />
                                    <use href="#minorTick" transform="rotate(175)" />

                                    <use href="#minorTick" transform="rotate(185)" />
                                    <use href="#minorTick" transform="rotate(190)" />
                                    <use href="#minorTick" transform="rotate(195)" />
                                    <use href="#minorTick" transform="rotate(200)" />
                                    <use href="#minorTick" transform="rotate(205)" />
                                    <use href="#minorTick" transform="rotate(210)" />
                                    <use href="#minorTick" transform="rotate(215)" />
                                    <use href="#minorTick" transform="rotate(220)" />
                                    <use href="#minorTick" transform="rotate(225)" />
                                    <use href="#minorTick" transform="rotate(230)" />
                                    <use href="#minorTick" transform="rotate(235)" />
                                    <use href="#minorTick" transform="rotate(240)" />
                                    <use href="#minorTick" transform="rotate(245)" />
                                    <use href="#minorTick" transform="rotate(250)" />
                                    <use href="#minorTick" transform="rotate(255)" />
                                    <use href="#minorTick" transform="rotate(260)" />
                                    <use href="#minorTick" transform="rotate(265)" />

                                    <use href="#minorTick" transform="rotate(275)" />
                                    <use href="#minorTick" transform="rotate(280)" />
                                    <use href="#minorTick" transform="rotate(285)" />
                                    <use href="#minorTick" transform="rotate(290)" />
                                    <use href="#minorTick" transform="rotate(295)" />
                                    <use href="#minorTick" transform="rotate(300)" />
                                    <use href="#minorTick" transform="rotate(305)" />
                                    <use href="#minorTick" transform="rotate(310)" />
                                    <use href="#minorTick" transform="rotate(315)" />
                                    <use href="#minorTick" transform="rotate(320)" />
                                    <use href="#minorTick" transform="rotate(325)" />
                                    <use href="#minorTick" transform="rotate(330)" />
                                    <use href="#minorTick" transform="rotate(335)" />
                                    <use href="#minorTick" transform="rotate(340)" />
                                    <use href="#minorTick" transform="rotate(345)" />
                                    <use href="#minorTick" transform="rotate(350)" />
                                    <use href="#minorTick" transform="rotate(355)" />
                                    </g>

                                    <!-- Major ticks (N E S W) -->
                                    <g stroke-width="4">
                                    <line x1="0" y1="-135" x2="0" y2="-115" />
                                    <line x1="0" y1="-135" x2="0" y2="-115" transform="rotate(90)" />
                                    <line x1="0" y1="-135" x2="0" y2="-115" transform="rotate(180)" />
                                    <line x1="0" y1="-135" x2="0" y2="-115" transform="rotate(270)" />
                                    </g>

                                </g>

                                <!-- CARDINAL LETTERS (INWARD) -->
                                <g
                                    fill="white"
                                    font-size="14"
                                    font-weight="600"
                                    text-anchor="middle"
                                    dominant-baseline="middle"
                                    opacity="0.9"
                                >
                                    <text x="150" y="42">N</text>
                                    <text x="258" y="150">E</text>
                                    <text x="150" y="258">S</text>
                                    <text x="42" y="150">W</text>
                                </g>

                                <!-- NEEDLE -->
                                <g
                                    class="needle"
                                    style="transform-origin: 150px 150px;"
                                >
                                    <line
                                    x1="150"
                                    y1="115"
                                    x2="150"
                                    y2="60"
                                    stroke="white"
                                    stroke-width="4"
                                    stroke-linecap="round"
                                    />
                                </g>

                                <!-- SPEED TEXT -->
                                <text
                                    x="150"
                                    y="160"
                                    text-anchor="middle"
                                    font-size="48"
                                    font-weight="600"
                                    fill="white"
                                    class="speed-text"
                                >
                                    21
                                </text>

                                <text
                                    x="150"
                                    y="190"
                                    text-anchor="middle"
                                    font-size="14"
                                    fill="white"
                                    opacity="0.8"
                                >
                                    mph
                                </text>

                            </svg>
                        </div>
                    </div>
                    <div class="windText">Wind from <%=windDir%>° at <%= windSpeed %> mph</div>
                </div>
            </div>
        </div>
    </div>


    <script>
    const weatherDesc = "<%= desc %>";
    const windSpeed = "<%= windSpeed %>";
    const windDir = <%- windDir%> ;
    const dayForecast = <%-JSON.stringify(DayForecast)%>;
    const hourForecast = <%-JSON.stringify(hourForecast)%>;
    const aqiObj = <%- JSON.stringify(aqiObj) %>;
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="/js/index.js"></script>
</body>
</html>